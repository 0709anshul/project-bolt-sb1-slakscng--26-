// SVG logo generation with error handling
const LOGO_PATH = `
M66.82,38.34c-1.02.43-1.76.62-2.37,1.01-14.15,9-22.68,21.8-25.48,38.31-.93,5.47-1.12,11.07-2.04,16.55-.48,2.86-1.74,5.6-2.8,8.34-4.16,10.76-8.38,21.5-12.58,32.24-.22.57-.53,1.1-1.15,2.35-1.46-4.89-2.77-9.12-3.99-13.37-4.28-14.92-6.87-30.12-6.8-45.66.07-14.81,2.53-29.17,9.94-42.3,4.32-7.66,10.09-14.03,16.99-19.5,6.01-4.76,12.01-9.45,19.15-12.45,7.88-3.31,16.01-4.93,24.48-3.11,10.51,2.25,19.8,10.49,21.51,24.12,1.22,9.72-.55,18.88-3.83,27.86-8.63,23.62-18.48,46.74-29.43,69.38-10.52,21.75-21.23,43.42-31.48,65.29-4.51,9.63-8.13,19.68-12.06,29.57-1.23,3.08-1.53,6.32-.83,9.62.72,3.38,2.79,4.5,5.72,2.71,3.67-2.23,7.15-4.77,10.71-7.17,4.35-2.93,8.71-5.86,13.29-8.93,5.61,5.09,11.19,10.14,17.23,15.62-8.66,4.34-16.85,8.53-25.13,12.55-7.73,3.76-15.66,7.01-24.1,8.91-12.04,2.71-22.46-5.11-21.75-17.48.49-8.4,2.42-16.8,4.5-25,4.62-18.23,12.11-35.44,19.51-52.68,5.11-11.92,9.98-23.94,14.94-35.92,3.65-8.8,7.63-17.48,10.82-26.45,4.84-13.61,9.17-27.41,13.62-41.15,1.22-3.77,2.13-7.65,3.16-11.48.11-.43.12-.88.23-1.8Z`;

export function createSvgDataUrl(): string {
  try {
    // Create SVG with explicit dimensions and viewBox
    const svg = `
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        width="159.32" 
        height="251.08" 
        viewBox="0 0 159.32 251.08"
        style="color: rgb(0, 0, 0);"
      >
        <path fill="currentColor" d="${LOGO_PATH}"/>
      </svg>
    `.trim();

    // Use proper encoding for SVG
    const encoded = encodeURIComponent(svg)
      .replace(/%20/g, ' ')
      .replace(/%3D/g, '=')
      .replace(/%3A/g, ':')
      .replace(/%2F/g, '/')
      .replace(/%22/g, "'");

    return `data:image/svg+xml;charset=UTF-8,${encoded}`;
  } catch (error) {
    console.error('SVG generation error:', error);
    throw new Error('Failed to generate SVG data URL');
  }
}